{"mappings":"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","sources":["js/app.js"],"sourcesContent":["function Calculator(form, summary) {\n  this.prices = {\n    products: 0.5,\n    orders: 0.25,\n    package: {\n      basic: 0,\n      professional: 25,\n      premium: 60\n    },\n    accounting: 35,\n    terminal: 5\n  };\n\n  /**\n   * Inputs / Select / Checkbox\n   */\n  this.form = {\n    products: form.querySelector(\"#products\"),\n    orders: form.querySelector(\"#orders\"),\n    package: form.querySelector(\"#package\"),\n    accounting: form.querySelector(\"#accounting\"),\n    terminal: form.querySelector(\"#terminal\")\n  };\n\n  /**\n   * Summary elements\n   */\n  this.summary = {\n    list: summary.querySelector(\"ul\"),\n    items: summary.querySelector(\"ul\").children,\n    total: {\n      container: summary.querySelector(\"#total-price\"),\n      price: summary.querySelector(\".total__price\")\n    }\n  };\n\n\n  // Init\n  this.addEvents();\n}\n\nCalculator.prototype.addEvents = function () {\n  // Inputs\n  this.form.products.addEventListener(\"change\", this.inputEvent.bind(this));\n  this.form.products.addEventListener(\"keyup\", this.inputEvent.bind(this));\n  this.form.orders.addEventListener(\"change\", this.inputEvent.bind(this));\n  this.form.orders.addEventListener(\"keyup\", this.inputEvent.bind(this));\n\n  // Select\n  this.form.package.addEventListener(\"click\", this.selectEvent.bind(this));\n\n  // Checkboxes\n  this.form.accounting.addEventListener(\"change\", this.checkboxEvent.bind(this));\n  this.form.terminal.addEventListener(\"change\", this.checkboxEvent.bind(this));\n};\n\nCalculator.prototype.updateTotal = function () {\n  const show = this.summary.list.querySelectorAll(\".open\").length > 0;\n\n  if (show) {\n    const productSum = this.form.products.value < 0 ? 0 : this.form.products.value * this.prices.products;\n    const ordersSum = this.form.orders.value < 0 ? 0 : this.form.orders.value * this.prices.orders;\n    const packagePrice = this.form.package.dataset.value.length === 0 ? 0 : this.prices.package[this.form.package.dataset.value];\n    const accounting = this.form.accounting.checked ? this.prices.accounting : 0;\n    const terminal = this.form.terminal.checked ? this.prices.terminal : 0;\n\n    this.summary.total.price.innerText = \"$\" + (productSum + ordersSum + packagePrice + accounting + terminal);\n\n    this.summary.total.container.classList.add(\"open\");\n  } else {\n    this.summary.total.container.classList.remove(\"open\");\n  }\n};\n\nCalculator.prototype.updateSummary = function (id, calc, total, callback) {\n  const summary = this.summary.list.querySelector(\"[data-id=\" + id + \"]\");\n  const summaryCalc = summary.querySelector(\".item__calc\");\n  const summaryTotal = summary.querySelector(\".item__price\");\n\n  summary.classList.add(\"open\");\n\n  if (summaryCalc !== null) {\n    summaryCalc.innerText = calc;\n  }\n\n  summaryTotal.innerText = \"$\" + total;\n\n  if (typeof callback === \"function\") {\n    callback(summary, summaryCalc, summaryTotal);\n  }\n};\n\nCalculator.prototype.inputEvent = function (e) {\n  const id = e.currentTarget.id;\n  const value = e.currentTarget.value;\n  const singlePrice = this.prices[id];\n  const totalPrice = value * singlePrice;\n\n  this.updateSummary(id, value + \" * $\" + singlePrice, totalPrice, function (item, calc, total) {\n    if (value < 0) {\n      calc.innerHTML = null;\n      total.innerText = \"Value should be greater than 0\";\n    }\n\n    if (value.length === 0) {\n      item.classList.remove(\"open\");\n    }\n  });\n\n  this.updateTotal();\n};\n\n\nCalculator.prototype.selectEvent = function (e) {\n  this.form.package.classList.toggle(\"open\");\n\n  const value = typeof e.target.dataset.value !== \"undefined\" ? e.target.dataset.value : \"\";\n  const text = typeof e.target.dataset.value !== \"undefined\" ? e.target.innerText : \"Choose package\";\n\n  if (value.length > 0) {\n    this.form.package.dataset.value = value;\n    this.form.package.querySelector(\".select__input\").innerText = text;\n\n    this.updateSummary(\"package\", text, this.prices.package[value]);\n    this.updateTotal();\n  }\n};\n\nCalculator.prototype.checkboxEvent = function (e) {\n  const checkbox = e.currentTarget;\n  const id = checkbox.id;\n  const checked = e.currentTarget.checked;\n\n  this.updateSummary(id, undefined, this.prices[id], function (item) {\n    if (!checked) {\n      item.classList.remove(\"open\");\n    }\n  });\n\n  this.updateTotal();\n};\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  const form = document.querySelector(\".calc__form\");\n  const summary = document.querySelector(\".calc__summary\");\n\n  new Calculator(form, summary);\n});"],"names":[],"version":3,"file":"index.cea00a9b.js.map","sourceRoot":"/__parcel_source_root/"}